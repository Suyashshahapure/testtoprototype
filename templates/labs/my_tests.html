{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block page_content %}
<link href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>


<div class="page page-center">
<div class="container container-xl ">
<h1>Lab Mangement</h1>
<div class="card p-5">
<h2 class="h2 card-title text-center mb-4">My <b> Tests</b></h2>


<div class="table-responsive">
  <table class="table table-vcenter table-responsive" id="my_tests_table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Price</th>
        <th>Created</th>
        <th>Availability</th>
        <th>No.Of Orders</th>
        <th class="w-1">Actions</th>
      </tr>
    </thead>
    <tbody>

        {% for test in my_tests %}

    <tr>
        <td>{{ test.id }}</td>
        <td>{{ test.name }}</td>
        <td class="text-secondary">
            â‚¹ {{ test.price }}
        </td>
        <td class="text-secondary">{{ test.updated_at }}</td>
        <td class="text-secondary">
            {% if test.available %}
            <span class="badge bg-green">Yes</span>
            {% else %}
            <span class="badge bg-red">No</span>
            {% endif %}
        </td>
         <td class="text-secondary">{{ test.number_of_orders }}</td>
        <td>
            <a href="{% url 'labs:update_test'  pk=test.id %}">Edit</a>
            <a href="{% url 'labs:delete_test'  pk=test.id %}" class="text-red">Delete</a>
        </td>
    </tr>
      {% endfor %}

    </tbody>
  </table>
</div>
</div>
</div>
</div>

<script>
new DataTable('#my_tests_table');
</script>
{% endblock page_content %}
